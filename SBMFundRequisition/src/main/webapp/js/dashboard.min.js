"use strict";var app=angular.module("SBMWeb",["smart-table","ngRoute","angular-loading-bar","LocalStorageModule","bootstrap.fileField","jcs-autoValidate","ui.bootstrap","ngFileUpload"]);app.constant("ngSettings",{apiServiceBaseUri:""}),app.run(["$rootScope","$location",function(e,o){var t=[];e.$on("$routeChangeSuccess",function(){t.push(o.$$path)}),e.back=function(){var e=t.length>1?t.splice(-2)[0]:"/";o.path(e)}}]),app.run(["bootstrap3ElementModifier",function(e){e.enableValidationStateIcons(!1)}]),app.run(["defaultErrorMessageResolver",function(e){e.getErrorMessages().then(function(e){e.mustcontainword='Please enter the word "{0}"',e.timeRequired=" End Time must be greater than start time",e.confirmPasswordRequired="Please enter the correct email.",e.parse="Password do not match.",e.xcelRequired="<span class='help-block has-error error-msg' style='width:70%;margin-bottom: -33px;'>Format's of type .csv, .xls, .xlsx,.jpeg,.png,.pdf are only allowed. </span>"})}]),app.run(["$rootScope","$location","$routeParams",function(e,o,t){e.$on("$routeChangeSuccess",function(){var t=o.path(),a=t.split(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/),r=a[5].split("/")[1],n=a[5].split("/")[2],s=a[5].split("/")[3];console.log(t),console.log(r),console.log(n),console.log("/resetPassword/"+n+"/"+s),e.adminVisible=!0})}]);
app.config(["$routeProvider",function(e){e.when("/contentAdmin",{controller:"SBMAdminLoginController",controllerAs:"_SBMAdminLoginVM",templateUrl:"templates/SBMAdmin/SBMAdminLoginView.html"}),e.when("/SBMAdminFileUpload",{controller:"SBMAdminFileUploadController",controllerAs:"_SBMAdminFileUploadVM",templateUrl:"templates/SBMAdmin/SBMAdminFileUploadView.html"}),e.when("/SBMAdminFileUploadEdit/:id",{controller:"SBMAdminFileUploadEditController",controllerAs:"_SBMAdminFileUploadEditVM",templateUrl:"templates/SBMAdmin/SBMAdminFileUploadEditView.html"}),e.when("/SBMAdminFileUploadDelete/:id",{controller:"SBMAdminFileUploadDeleteController",controllerAs:"_SBMAdminFileUploadDeleteVM",templateUrl:"templates/SBMAdmin/SBMAdminFileUploadDeleteView.html"}),e.when("/SBMAdminULB",{controller:"SBMAdminULBController",controllerAs:"_SBMAdminULBVM",templateUrl:"templates/SBMAdmin/SBMAdminULBView.html"}),e.when("/SBMAdminNews",{controller:"SBMAdminNewsController",controllerAs:"_SBMAdminNewsVM",templateUrl:"templates/SBMAdmin/SBMAdminNewsView.html"}),e.when("/SBMAdminNewsEdit/:id",{controller:"SBMAdminNewsEditController",controllerAs:"_SBMAdminNewsEditVM",templateUrl:"templates/SBMAdmin/SBMAdminNewsEditView.html"}),e.when("/SBMAdminNewsDelete/:id",{controller:"SBMAdminNewsDeleteController",controllerAs:"_SBMAdminNewsDeleteVM",templateUrl:"templates/SBMAdmin/SBMAdminNewsDeleteView.html"}),e.when("/SBMAdminBanners",{controller:"SBMAdminBannersController",controllerAs:"_SBMAdminBannersVM",templateUrl:"templates/SBMAdmin/SBMAdminBannersView.html"}),e.when("/SBMAdminBannersEdit/:id",{controller:"SBMAdminBannersEditController",controllerAs:"_SBMAdminBannersEditVM",templateUrl:"templates/SBMAdmin/SBMAdminBannersEditView.html"}),e.when("/SBMAdminBannersDelete/:id",{controller:"SBMAdminBannersDeleteController",controllerAs:"_SBMAdminBannersDeleteVM",templateUrl:"templates/SBMAdmin/SBMAdminBannersDeleteView.html"}),e.when("/SBMAdminCity",{controller:"SBMAdminCityController",controllerAs:"_SBMAdminCityVM",templateUrl:"templates/SBMAdmin/SBMAdminCityView.html"}),e.when("/SBMAdminCityEdit/:id",{controller:"SBMAdminCityEditController",controllerAs:"_SBMAdminCityEditVM",templateUrl:"templates/SBMAdmin/SBMAdminCityEditView.html"}),e.when("/SBMAdminCityDelete/:id",{controller:"SBMAdminCityDeleteController",controllerAs:"_SBMAdminCityDeleteVM",templateUrl:"templates/SBMAdmin/SBMAdminCityDeleteView.html"}),e.when("/SBMSurveyForm?:id",{templateUrl:"templates/SBMAdmin/SBMSurveyFormView.html"}),e.when("/SBMSurveyCC?:id",{templateUrl:"templates/SBMAdmin/SBMSurveyCCView.html"}),e.when("/SBMSurveyEmail",{controller:"SBMSurveyEmailController",controllerAs:"_SBMSurveyEmailVM",templateUrl:"templates/SBMAdmin/SBMSurveyEmailView.html"}),e.when("/SBMAdminODF",{controller:"SBMAdminODFController",controllerAs:"_SBMAdminODFVM",templateUrl:"templates/SBMAdmin/SBMAdminODFView.html"}),e.when("/SBMAdminODFEdit/:id",{controller:"SBMAdminODFEditController",controllerAs:"_SBMAdminODFEditVM",templateUrl:"templates/SBMAdmin/SBMAdminODFEditView.html"}),e.when("/SBMAdminODFDelete/:id",{controller:"SBMAdminODFDeleteController",controllerAs:"_SBMAdminODFDeleteVM",templateUrl:"templates/SBMAdmin/SBMAdminODFDeleteView.html"}),e.when("/SBMSurveyReport",{controller:"SBMSurveyReportController",controllerAs:"_SBMSurveyReportVM",templateUrl:"templates/SBMAdmin/SBMSurveyReportView.html"}),e.when("/SBMDynamicSurveyList",{templateUrl:"templates/SBMAdmin/SBMDynamicSurveyListView.html"}),e.when("/SBMCreateDynamicSurvey",{templateUrl:"templates/SBMAdmin/SBMCreateDynamicSurveyView.html"}),e.when("/showDef/:id",{controller:"SBMADynamicSurveyDefController",templateUrl:"templates/SBMAdmin/SBMDynamicSurveyDefView.html"}),e.when("/SBMPublishDynamicSurvey/:id",{templateUrl:"templates/SBMAdmin/SBMDynamicSurveyPublishView.html"}),e.otherwise({redirectTo:"/contentAdmin"})}]);
app.config(["$httpProvider",function(t){t.defaults.useXDomain=!0,delete t.defaults.headers.common["X-Requested-With"]}]),app.value("app.baseUri",{basePath:"http://49.206.0.188:8080/SBM_TEST/1.0/content/",basePathForUniversal:"http://49.206.0.188:8080/SBM_TEST/1.0/",basePathForImage:"http://49.206.0.188:8080/sbm",basePathForEdit:"http://49.206.0.188:8080/SBMAdmin_test/2.0/content/",basePathForNewsEdit:"http://49.206.0.188:8080/SBMAdmin_test/2.0/",basePath1:"http://49.206.0.188:8080/SBMAdmin_test/2.0/",basepathForSurvey:"http://49.206.0.188:8080/SBM_TEST/2.0/",basepathForDynamicSurvey:"http://49.206.0.188:8080/SBMSurvey/dynamic/"}),app.config(["$compileProvider",function(t){t.debugInfoEnabled(!1)}]);
$(document).ready(function(){function t(){if(r+=1,r%($("#news-content").width()-$("#news").width())==0){var e=$("#news-content").html();$("#news-content").append(e)}$("#news").animate({left:-1*r+"px"},20,t)}function e(){$(".ambassadorImageContainer1").delay(5e3).append("<img src="+c[d[0]].imageURL+' class="block-image full ambassadorimg1">'),$(".ambassadorimg1:nth-child(1)").delay(5e3).animate({height:0},500,function(){$(".ambassadorimg1:nth-of-type(1)").remove()}),$(".ambassador-content1").delay(5e3).fadeOut(function(){$(".ambassador-name1").html(c[d[0]].name),$(".ambassador-content1").html(c[d[0]].content),d[0]=d[0]+4,d[0]>c.length-4&&(d[0]=0)}).fadeIn(),$(".ambassadorImageContainer2").delay(1e4).append("<img src="+c[d[1]].imageURL+' class="block-image full ambassadorimg2">'),$(".ambassadorimg2:nth-child(1)").delay(1e4).animate({height:0},500,function(){$(".ambassadorimg2:nth-of-type(1)").remove()}),$(".ambassador-content2").delay(1e4).fadeOut(function(){$(".ambassador-name2").html(c[d[1]].name),$(".ambassador-content2").html(c[d[1]].content),d[1]=d[1]+4,d[1]>c.length-3&&(d[1]=1)}).fadeIn(),$(".ambassadorImageContainer3").delay(15e3).append("<img src="+c[d[2]].imageURL+' class="block-image full ambassadorimg3">'),$(".ambassadorimg3:nth-child(1)").delay(15e3).animate({height:0},500,function(){$(".ambassadorimg3:nth-of-type(1)").remove()}),$(".ambassador-content3").delay(15e3).fadeOut(function(){$(".ambassador-name3").html(c[d[2]].name),$(".ambassador-content3").html(c[d[2]].content),d[2]=d[2]+4,d[2]>c.length-2&&(d[2]=2)}).fadeIn(),$(".ambassadorImageContainer4").delay(2e4).append("<img src="+c[d[3]].imageURL+' class="block-image full ambassadorimg4">'),$(".ambassadorimg4:nth-child(1)").delay(2e4).animate({height:0},500,function(){$(".ambassadorimg4:nth-of-type(1)").remove()}),$(".ambassador-content4").delay(2e4).fadeOut(function(){$(".ambassador-name4").html(c[d[3]].name),$(".ambassador-content4").html(c[d[3]].content),d[3]=d[3]+4,d[3]>c.length-1&&(d[3]=3)}).fadeIn(),setTimeout(function(){e()},25e3)}function i(){var t={reg:0,views:0,story:0,time:0};$(".reg .stepNum").html(0),$(".views .stepNum").html(0),$(".story .stepNum").html(0),$(".time .stepNum").html(0),setInterval(function(){Number($(".reg .stepNum").html())!=g.reg&&($(".reg .stepNum").html(Number($(".reg .stepNum").html())+Math.floor(.05*g.reg)),t.reg=t.reg+1),t.reg>=19&&$(".reg .stepNum").html(g.reg)},50),setInterval(function(){Number($(".views .stepNum").html())!=g.views&&($(".views .stepNum").html(Number($(".views .stepNum").html())+Math.floor(.05*g.views)),t.views=t.views+1),t.views>=19&&$(".views .stepNum").html(g.views)},50),setInterval(function(){Number($(".story .stepNum").html())!=g.story&&($(".story .stepNum").html(Number($(".story .stepNum").html())+Math.floor(.05*g.story)),t.story=t.story+1),t.story>=19&&$(".story .stepNum").html(g.story)},50),setInterval(function(){Number($(".time .stepNum").html())!=g.time&&($(".time .stepNum").html(Number($(".time .stepNum").html())+Math.floor(.05*g.time)),t.time=t.time+1),t.time>=19&&$(".time .stepNum").html(g.time)},50)}function a(){var t=$("#top-city-group-left .top-city1 .top-image-container .top-img"),e=$("#top-city-group-left .top-city2 .top-image-container .top-img"),i=$("#top-city-group-right .top-city1 .top-image-container .top-img"),o=$("#top-city-group-right .top-city2 .top-image-container .top-img");t.delay(2e3).hide("slide",{direction:"left"},function(){t.attr("src",p[h].imageURL),$("#top-city-group-left .top-city1  .top-city-name").fadeOut(function(){$("#top-city-group-left .top-city1  .top-city-name").html('<div class="rank-badge">'+p[h].rank+"</div>"+p[h].cityName),h+=2,h>=p.length-1&&(h=0)}).fadeIn()}).show("slide",{direction:"right"},500),e.delay(2e3).hide("slide",{direction:"left"},function(){e.attr("src",p[u].imageURL),$("#top-city-group-left .top-city2  .top-city-name").fadeOut(function(){$("#top-city-group-left .top-city2  .top-city-name").html('<div class="rank-badge">'+p[u].rank+"</div>"+p[u].cityName),u+=2,u>=p.length&&(u=1)}).fadeIn()}).show("slide",{direction:"right"},500),i.delay(2e3).hide("slide",{direction:"left"},function(){i.attr("src",l[y].imageURL),$("#top-city-group-right .top-city1  .top-city-name").fadeOut(function(){$("#top-city-group-right .top-city1  .top-city-name").html('<div class="rank-badge">'+l[y].rank+"</div>"+l[y].cityName),y+=2,y>=l.length-1&&(y=0)}).fadeIn()}).show("slide",{direction:"right"},500),o.delay(2e3).hide("slide",{direction:"left"},function(){o.attr("src",l[f].imageURL),$("#top-city-group-right .top-city2  .top-city-name").fadeOut(function(){$("#top-city-group-right .top-city2  .top-city-name").html('<div class="rank-badge">'+l[f].rank+"</div>"+l[f].cityName),f+=2,f>=l.length&&(f=1)}).fadeIn()}).show("slide",{direction:"right"},500),setTimeout(function(){a()},5e3)}$("#main").css("margin-top",$("#header").height());var o=0,n=0,m=0,s=0;$("#section-scroll-hide").scroll(function(t){var r=$("#section-scroll-hide").scrollTop();r>7.8*$("#section").height()&&0==n&&(i(),n=1),r>.5*$("#section").height()&&0==m&&(setTimeout(function(){e()},3e3),m=1),r>6*$("#section").height()&&0==s&&(setTimeout(function(){a()},5e3),s=1),r>o?r>.8*$("#top-header").height()&&($("#top-header").addClass("noheight"),$("#down-header").addClass("noheight"),$("#header").addClass("stickyheader"),t.preventDefault()):r<=90&&($("#top-header").removeClass("noheight"),$("#down-header").removeClass("noheight"),$("#header").removeClass("stickyheader"),t.preventDefault()),o=r,t.preventDefault()}),t();var r=0,c=[{name:"Amitabh Bacchan",imageURL:"images/ambassador/amitab.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"Aamir Khan",imageURL:"images/ambassador/aamir.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"Saina Nehwal",imageURL:"images/ambassador/saina.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"M S Dhoni",imageURL:"images/ambassador/dhoni.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"Aamir Khan",imageURL:"images/ambassador/aamir.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"Amitabh Bacchan",imageURL:"images/ambassador/amitab.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"M S Dhoni",imageURL:"images/ambassador/dhoni.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"},{name:"Saina Nehwal",imageURL:"images/ambassador/saina.png",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore"}],d=[4,5,6,7],g={reg:12414111,views:95492845565,story:8548766,time:85487686},p=[{rank:1,imageURL:"images/top-cities/delhi1.png",cityName:"Delhi"},{rank:2,imageURL:"images/top-cities/mysore.png",cityName:"Mysore"},{rank:3,imageURL:"images/top-cities/mysore.png",cityName:"Mysore"},{rank:4,imageURL:"images/top-cities/delhi1.png",cityName:"Delhi"},{rank:5,imageURL:"images/top-cities/delhi1.png",cityName:"Delhi"},{rank:6,imageURL:"images/top-cities/mysore.png",cityName:"Mysore"},{rank:7,imageURL:"images/top-cities/mysore.png",cityName:"Mysore"},{rank:8,imageURL:"images/top-cities/delhi1.png",cityName:"Delhi"}],l=[{rank:1,imageURL:"images/top-cities/chandigarh.png",cityName:"Chandigarh"},{rank:2,imageURL:"images/top-cities/delhi2.png",cityName:"Delhi"},{rank:3,imageURL:"images/top-cities/delhi2.png",cityName:"Delhi"},{rank:4,imageURL:"images/top-cities/chandigarh.png",cityName:"Chandigarh"}],h=2,u=3,y=2,f=3;$("#top-city-group-left .top-city1 .top-image-container .top-img").attr("src",p[0].imageURL),$("#top-city-group-left .top-city1  .top-city-name").html('<div class="rank-badge">'+p[0].rank+"</div>"+p[0].cityName),$("#top-city-group-left .top-city2 .top-image-container .top-img").attr("src",p[1].imageURL),$("#top-city-group-left .top-city2  .top-city-name").html('<div class="rank-badge">'+p[1].rank+"</div>"+p[1].cityName),$("#top-city-group-right .top-city1 .top-image-container .top-img").attr("src",l[0].imageURL),$("#top-city-group-right .top-city1  .top-city-name").html('<div class="rank-badge">'+l[0].rank+"</div>"+l[0].cityName),$("#top-city-group-right .top-city2 .top-image-container .top-img").attr("src",l[1].imageURL),$("#top-city-group-right .top-city2  .top-city-name").html('<div class="rank-badge">'+l[1].rank+"</div>"+l[1].cityName),function(t,e,i){var a,o=t.getElementsByTagName(e)[0];t.getElementById(i)||(a=t.createElement(e),a.id=i,a.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk")});
app.directive("modal",function(){return{template:'<div class="modal fade"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Content Upload</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,n,t){e.title=t.title,e.$watch(t.visible,function(e){1==e?$(n).modal("show"):$(n).modal("hide")}),$(n).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[t.visible]=!0})}),$(n).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[t.visible]=!1})})}}}),app.directive("eventfinaldatepicker12",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForEvent").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){$("#EndDateForEvent").datepicker("option","minDate",e)}})}}}),app.directive("eventfinaldatepicker10",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForEvent").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){$("#EndDateForEvent").datepicker("option","minDate",e)}})}}}),app.directive("eventfinaldatepicker555",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForEvent").datepicker({minDate:0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){$("#EndDateForEvent").datepicker("option","minDate",e)}})}}}),app.directive("eventfinaldatepicker666",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForQ").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"d MM yy",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){}})}}}),app.directive("eventfinaldatepicker777",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForf").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"d MM yy",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){}})}}}),app.directive("eventfinaldatepicker888",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForg").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"d MM yy",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){}})}}}),app.directive("eventfinaldatepicker999",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForh").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"d MM yy",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){}})}}}),app.directive("eventfinaldatepicker000",function(){return{require:"ngModel",link:function(e,n,t,i){$("#StartDateForo").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"d MM yy",onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})},onClose:function(e){}})}}}),app.directive("jqdatepicker10",function(){return{require:"ngModel",link:function(e,n,t,i){$("#EndDateForEvent").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,beforeShow:function(e,n){t.minDate&&angular.element(e).datepicker("option","minDate",t.minDate)},onSelect:function(n){e.$apply(function(){i.$setViewValue(n)})}})}}}),app.directive("stRatio",function(){return{link:function(e,n,t){var i=+t.stRatio;n.css("width",i+"%")}}}),app.filter("split",function(){return function(e,n,t){return e.split(n)[t]}}),app.directive("validNumber",function(){return{require:"?ngModel",link:function(e,n,t,i){i&&(i.$parsers.push(function(e){if(angular.isUndefined(e))var e="";var n=e.replace(/[^0-9]+/g,"");return e!==n&&(i.$setViewValue(n),i.$render()),n}),n.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}))}}}),app.directive("pageSelect",function(){return{restrict:"E",template:'<input type="text" class="select-page"  ng-model="inputPage" ng-change="selectPage(inputPage)" readonly style="font-size: 95%;color: #337ab7;width: 0%;border: none;">',link:function(e,n,t){e.$watch("currentPage",function(n){e.inputPage=n})}}});
app.controller("SBMAdminBannersController",["SBMAdminBannersService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout",function(e,a,s,t,o,n,i){var l=this;l.fileData={},l.bannersHistory={},l.Message="",s.getMyData=function(){var e=a.get("authorizationData");return e},l.basePath=t.basePathForImage,s.myData2=s.getMyData(),l.fileData.position="1",s.sendBanners=function(e){console.log(e),void 0==e?(l.Message="",l.success=!1,l.Message="Format's of type .jpg, .png are only allowed."):(l.Message="",l.success=!1,console.log(l.fileData),e.upload=n.upload({url:t.basePathForNewsEdit+"saveBanner",data:{file:e,order:l.fileData.position},headers:{common:"X-Requested-With"}}).success(function(e){1==e.status?(l.Message="",l.success=!0,l.Message=e.message,l.bannersHistory="",l.bannersHistory=e.data,i(function(){l.Message="",s.toggle2()},2e3)):(l.Message="",l.success=!1,l.Message=e.message,l.bannersHistory="",l.bannersHistory=e.data)}))},e.getBannersHistory().success(function(e){1==e.status?(l.bannersHistory="",l.bannersHistory=e.data):l.Success=!0}),s.showModal=!1,s.toggle=function(){s.showModal=!0},s.toggle2=function(){s.showModal=!1,$window.location.reload()};var d=new Date;s.getTimestamp=Date.parse(d),s.downLoadExcel=function(e){var a=new Blob([document.getElementById("exportableforAc").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(a,"Banners_"+s.getTimestamp+".xls")}}]),app.directive("second",function(){return{template:'<div class="modal fade"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Banner Upload</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,a,s){e.title=s.title,e.$watch(s.visible,function(e){1==e?$(a).modal("show"):$(a).modal("hide")}),$(a).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[s.visible]=!0})}),$(a).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[s.visible]=!1})})}}});
app.controller("SBMAdminBannersDeleteController",["SBMAdminBannersDeleteService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$routeParams",function(e,a,t,n,s,i,r,o){var c=this;c.fileData={},c.Message="",t.getMyData=function(){var e=a.get("authorizationData");return e},c.basePath=n.basePathForImage,t.myData2=t.getMyData(),t.sendBanners=function(){var a={id:o.id};e.deleteBannerById(a).success(function(e){1==e.status?(c.Message=e.message,r(function(){c.Message="",s.path("/SBMAdminBanners")},2e3)):c.Success=!0})};var u={id:o.id};e.getBannerById(u).success(function(e){1==e.status?(c.fileData="",c.fileData=e.data):c.Success=!0})}]);
app.service("SBMAdminBannersDeleteService",["$http","app.baseUri",function(e,t){this.getBannerById=function(n){return e.post(t.basePathForNewsEdit+"getBannerById",n)},this.deleteBannerById=function(n){return e.post(t.basePathForNewsEdit+"deleteBanner",n)}}]);
app.controller("SBMAdminBannersEditController",["SBMAdminBannersEditService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$routeParams",function(e,a,s,t,n,i,o,r){var c=this;c.fileData={},c.Message="",s.getMyData=function(){var e=a.get("authorizationData");return e},c.basePath=t.basePathForImage,s.myData2=s.getMyData(),s.sendBanners=function(e){c.Message="",c.success=!1,console.log(c.fileData),e.upload=i.upload({url:t.basePathForNewsEdit+"updateBanner",data:{file:e,order:c.fileData.position,id:r.id},headers:{common:"X-Requested-With"}}).success(function(e){1==e.status?(c.Message="",c.success=!0,c.Message=e.message,o(function(){c.Message="",n.path("/SBMAdminBanners")},2e3)):(c.Message="",c.success=!1,c.Message=e.message)})};var u={id:r.id};e.getBannerById(u).success(function(e){1==e.status?(c.fileData="",c.fileData=e.data):c.Success=!0})}]);
app.service("SBMAdminBannersEditService",["$http","app.baseUri",function(e,n){this.getBannerById=function(t){return e.post(n.basePathForNewsEdit+"getBannerById",t)}}]);
app.service("SBMAdminBannersService",["$http","app.baseUri",function(e,n){this.getBannersHistory=function(){return e.post(n.basePathForNewsEdit+"getAllBanners")}}]);
app.controller("SBMAdminCityController",["SBMAdminCityService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window",function(a,t,e,o,i,s,l,n){var c=this;c.fileData={},c.cityHistory={},c.fileData.param_one="",c.fileData.param_two="",c.fileData.param_three="",c.fileData.param_four="",c.Message="",e.getMyData=function(){var a=t.get("authorizationData");return a},c.basePath=o.basePathForImage,e.myData2=e.getMyData(),e.sendCity=function(a){console.log(a),void 0==a?(c.Message="",c.success=!1,c.Message="Format's of type .jpg, .png are only allowed."):(c.Message="",c.success=!1,console.log(c.fileData),a.upload=s.upload({url:o.basePathForEdit+"saveCityOfFortnight",data:{file:a,cityname:c.fileData.city_name,description:c.fileData.description,paramone:c.fileData.param_one,paramtwo:c.fileData.param_two,paramthree:c.fileData.param_three,paramfour:c.fileData.param_four},headers:{common:"X-Requested-With"}}).success(function(a){0==a.status?(c.Message="",c.success=!0,c.Message=a.message,l(function(){c.Message="",e.toggle2()},2e3)):(c.Message="",c.success=!1,c.Message=a.message,c.cityHistory="",c.cityHistory=a.data)}))},a.getCityHistory().success(function(a){1==a.status?(c.cityHistory="",c.cityHistory=a.data):c.Success=!0}),e.showModal=!1,e.toggle=function(){e.showModal=!0},e.toggle2=function(){e.showModal=!1,n.location.reload()},e.myInterval=3e3}]),app.directive("fourth",function(){return{template:'<div class="modal fade"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">City of the FortNight Upload</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(a,t,e){a.title=e.title,a.$watch(e.visible,function(a){1==a?$(t).modal("show"):$(t).modal("hide")}),$(t).on("shown.bs.modal",function(){a.$apply(function(){a.$parent[e.visible]=!0})}),$(t).on("hidden.bs.modal",function(){a.$apply(function(){a.$parent[e.visible]=!1})})}}});
app.controller("SBMAdminCityDeleteController",["SBMAdminCityDeleteService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$routeParams",function(e,a,t,s,i,c,n,o){var r=this;r.fileData={},r.Message="",t.getMyData=function(){var e=a.get("authorizationData");return e},r.basePath=s.basePathForImage,t.myData2=t.getMyData(),t.sendCityDelete=function(){r.Message="",r.success=!1;var a={id:o.id};e.deleteCityData(a).success(function(e){1==e.status?(r.fileData="",r.fileData=e.data,r.Message=e.message,n(function(){r.Message="",i.path("/SBMAdminCity")},2e3)):(r.Success=!0,r.Message=e.message)})};var l={id:o.id};e.getCityData(l).success(function(e){1==e.status?(r.fileData="",r.fileData=e.data):r.Success=!0})}]);
app.service("SBMAdminCityDeleteService",["$http","app.baseUri",function(t,e){this.getCityData=function(i){return t.post(e.basePathForEdit+"getCityOfFortnightById",i)},this.deleteCityData=function(i){return t.post(e.basePathForEdit+"deleteCityOfFortnight",i)}}]);
app.controller("SBMAdminCityEditController",["SBMAdminCityEditService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$routeParams",function(a,e,t,s,i,o,r,c){var n=this;n.fileData={},n.Message="",t.getMyData=function(){var a=e.get("authorizationData");return a},n.basePath=s.basePathForImage,t.myData2=t.getMyData(),t.sendCityEdit=function(a){console.log(a),n.Message="",n.success=!1,console.log(n.fileData),a.upload=o.upload({url:s.basePathForEdit+"updateCityOfFortnight",data:{file:a,cityName:n.fileData.cityName,description:n.fileData.description,paramOne:n.fileData.paramOne,paramTwo:n.fileData.paramTwo,paramThree:n.fileData.paramThree,paramFour:n.fileData.paramFour,id:c.id},headers:{common:"X-Requested-With"}}).success(function(a){1==a.status?(n.Message="",n.success=!0,n.Message=a.message,r(function(){n.Message="",i.path("/SBMAdminCity")},2e3)):(n.Message="",n.success=!1,n.Message=a.message)})};var l={id:c.id};a.getCityData(l).success(function(a){1==a.status?(n.fileData="",n.fileData=a.data):n.Success=!0})}]);
app.service("SBMAdminCityEditService",["$http","app.baseUri",function(t,i){this.getCityData=function(e){return t.post(i.basePathForEdit+"getCityOfFortnightById",e)}}]);
app.service("SBMAdminCityService",["$http","app.baseUri",function(t,i){this.getCityHistory=function(){return t.post(i.basePathForEdit+"getAllCityOfFortnight")}}]);
app.controller("SBMAdminFileUploadController",["SBMAdminFileUploadService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window",function(e,t,s,a,o,i,n,l){var c=this;c.fileData={},c.Message="",c.keyWordsData="",c.fileData.type="EVENTS",c.fileData.circular_type="Portal Circular",c.basePath=a.basePathForImage,s.getMyData=function(){var e=t.get("authorizationData");return e},s.myData2=s.getMyData(),s.sendFormDataWithPic=function(e){c.Message="",c.success=!1,console.log(c.fileData),"EVENTS"==c.fileData.type?e.upload=i.upload({url:a.basePath+"upload",data:{file:e,title:c.fileData.title,description:c.fileData.description,type:c.fileData.type,keywords:JSON.stringify(c.fileData.keywords),start_date:c.fileData.start_date,end_date:c.fileData.end_date,link:c.fileData.link,venue:c.fileData.venue},headers:{common:"X-Requested-With"}}).success(function(e){0==e.status?(c.Message="",c.success=!0,c.Message=e.message,n(function(){c.Message="",s.toggle2()},2e3)):(c.Message="",c.success=!1,c.Message=e.message)}):"NEWS"==c.fileData.type?e.upload=i.upload({url:a.basePath+"upload",data:{file:e,title:c.fileData.title,description:c.fileData.description,type:c.fileData.type,keywords:JSON.stringify(c.fileData.keywords),start_date:c.fileData.start_date,link:c.fileData.link},headers:{common:"X-Requested-With"}}).success(function(e){0==e.status?(c.Message="",c.success=!0,c.Message=e.message,n(function(){c.Message="",s.toggle2()},2e3)):(c.Message="",c.success=!1,c.Message=e.message)}):"CIRCULARS"==c.fileData.type?e.upload=i.upload({url:a.basePath+"upload",data:{file:e,title:c.fileData.title,description:c.fileData.description,type:c.fileData.type,keywords:JSON.stringify(c.fileData.keywords),start_date:c.fileData.start_date,circular_type:c.fileData.circular_type},headers:{common:"X-Requested-With"}}).success(function(e){0==e.status?(c.Message="",c.success=!0,c.Message=e.message,n(function(){c.Message="",s.toggle2()},2e3)):(c.Message="",c.success=!1,c.Message=e.message)}):e.upload=i.upload({url:a.basePath+"upload",data:{file:e,title:c.fileData.title,description:c.fileData.description,type:c.fileData.type,keywords:JSON.stringify(c.fileData.keywords),start_date:c.fileData.start_date},headers:{common:"X-Requested-With"}}).success(function(e){0==e.status?(c.Message="",c.success=!0,c.Message=e.message,n(function(){c.Message="",s.toggle2()},2e3)):(c.Message="",c.success=!1,c.Message=e.message)})},e.getAllKeywords().success(function(e){1==e.status?c.Success=!0:(c.keyWordsData="",c.keyWordsData=e.data)}),s.showModal=!1,s.toggle=function(){console.log("hi"),s.showModal=!0},s.toggle2=function(){s.showModal=!1,l.location.reload()},s.sendForContentType=function(t){c.kpiFileHistoryData="";var s={type:t};e.getKPIFileHistory(s).success(function(e){1==e.status?c.Success=!0:(c.kpiFileHistoryData="",c.kpiFileHistoryData=e.data)})},s.showEvents=function(){s.showNew=!1,s.showCir=!1,s.showMou=!1,s.showPre=!1,s.showEve=!0,s.showCircularType=!1,s.contentType="EVENTS",s.sendForContentType(s.contentType)},s.showNews=function(){s.showNew=!0,s.showCir=!1,s.showMou=!1,s.showPre=!1,s.showEve=!1,s.contentType="NEWS",s.showCircularType=!1,s.sendForContentType(s.contentType)},s.showCirculars=function(){s.showNew=!1,s.showCir=!0,s.showMou=!1,s.showPre=!1,s.showEve=!1,s.showCircularType=!0,s.contentType="CIRCULARS",s.sendForContentType(s.contentType)},s.showMous=function(){s.showNew=!1,s.showCir=!1,s.showMou=!0,s.showPre=!1,s.showEve=!1,s.showCircularType=!1,s.contentType="MOUS SIGNED",s.sendForContentType(s.contentType)},s.showPress=function(){s.showNew=!1,s.showCir=!1,s.showMou=!1,s.showPre=!0,s.showEve=!1,s.showCircularType=!1,s.contentType="PRESS RELEASES",s.sendForContentType(s.contentType)},s.showEvents(),s.getContentType=function(){"EVENTS"==c.fileData.type?(s.showSDate=!0,s.showEDate=!0,s.showVenue=!0,s.showLink=!0,s.showDate=!1,s.showType=!1):"NEWS"==c.fileData.type?(s.showSDate=!1,s.showEDate=!1,s.showVenue=!1,s.showLink=!1,s.showDate=!0,s.showType=!1):"CIRCULARS"==c.fileData.type?(s.showSDate=!1,s.showEDate=!1,s.showVenue=!1,s.showLink=!1,s.showDate=!0,s.showType=!0):(s.showSDate=!1,s.showEDate=!1,s.showVenue=!1,s.showLink=!1,s.showDate=!0,s.showType=!1)},s.getContentType();var r=new Date;s.getTimestamp=Date.parse(r),s.downLoadExcel=function(e){var t=new Blob([document.getElementById("exportableforAc").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(t,e+"_"+s.getTimestamp+".xls")}}]);
app.controller("SBMAdminFileUploadDeleteController",["SBMAdminFileUploadDeleteService","$filter","$routeParams","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window",function(e,a,t,s,o,n,i,D,l,d){var r=this;r.fileData={},r.Message="",r.keyWordsData="",r.fileData.circular_type="Portal Circular",r.basePath=n.basePathForImage,o.getMyData=function(){var e=s.get("authorizationData");return e},o.myData2=o.getMyData();var c={id:t.id};e.getContentDataById(c).success(function(e){0==e.status||(r.success=!1,r.message=e.message,r.fileData=e.data,"EVENTS"==r.fileData.contentType?(r.fileData.startDate&&(o.date=new Date(r.fileData.startDate),r.fileData.startDate=a("date")(o.date,"yyyy-MM-dd")),r.fileData.endDate&&(o.date2=new Date(r.fileData.endDate),r.fileData.endDate=a("date")(o.date2,"yyyy-MM-dd"))):r.fileData.startDate&&(o.date=new Date(r.fileData.startDate),r.fileData.startDate=a("date")(o.date,"yyyy-MM-dd")),o.getContentType())}),o.sendFormDataWithPic=function(a){var s={id:t.id};e.deleteContentById(s).success(function(e){1==e.status?(r.success=!1,r.message=e.message,l(function(){r.Message="",i.path("/SBMAdminFileUpload")},2e3)):(r.success=!0,r.message=e.message)})},o.getContentType=function(){"EVENTS"==r.fileData.contentType?(o.showSDate=!0,o.showEDate=!0,o.showVenue=!0,o.showLink=!0,o.showDate=!1,o.showType=!1):"NEWS"==r.fileData.contentType?(o.showSDate=!1,o.showEDate=!1,o.showVenue=!1,o.showLink=!1,o.showDate=!0,o.showType=!1):"CIRCULARS"==r.fileData.contentType?(o.showSDate=!1,o.showEDate=!1,o.showVenue=!1,o.showLink=!1,o.showDate=!0,o.showType=!0):(o.showSDate=!1,o.showEDate=!1,o.showVenue=!1,o.showLink=!1,o.showDate=!0,o.showType=!1)}}]);
app.service("SBMAdminFileUploadDeleteService",["$http","app.baseUri",function(t,e){this.getContentDataById=function(n){return t.post(e.basePathForEdit+"getContentById",n)},this.deleteContentById=function(n){return t.post(e.basePathForEdit+"deleteContent",n)}}]);
app.controller("SBMAdminFileUploadEditController",["SBMAdminFileUploadEditService","$routeParams","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window","$filter",function(e,t,a,s,n,i,o,c,l,d){var D=this;D.fileData={},D.Message="",D.keyWordsData="",D.fileData.circular_type="Portal Circular",D.basePath=n.basePathForImage,s.getMyData=function(){var e=a.get("authorizationData");return e},s.myData2=s.getMyData();var r={id:t.id};e.getContentDataById(r).success(function(e){1!=e.status||(D.success=!1,D.message=e.message,D.fileData=e.data,"EVENTS"==D.fileData.contentType?(D.fileData.startDate&&(s.date=new Date(D.fileData.startDate),D.fileData.startDate=d("date")(s.date,"yyyy-MM-dd")),D.fileData.endDate&&(s.date2=new Date(D.fileData.endDate),D.fileData.endDate=d("date")(s.date2,"yyyy-MM-dd"))):D.fileData.startDate&&(s.date=new Date(D.fileData.startDate),D.fileData.startDate=d("date")(s.date,"yyyy-MM-dd")),s.getContentType())}),s.sendFormDataWithPic=function(e){D.Message="",D.success=!1,console.log(D.fileData),"EVENTS"==D.fileData.contentType?e.upload=o.upload({url:n.basePathForEdit+"updateContent",data:{file:e,contentTitle:D.fileData.contentTitle,description:D.fileData.description,contentType:D.fileData.contentType,contentKeywords:JSON.stringify(D.fileData.contentKeywords),startDate:D.fileData.startDate,endDate:D.fileData.endDate,link:D.fileData.link,venue:D.fileData.venue,contentId:t.id},headers:{common:"X-Requested-With"}}).success(function(e){1==e.status?(D.Message="",D.success=!0,D.Message=e.message,c(function(){D.Message="",i.path("/SBMAdminFileUpload")},2e3)):(D.Message="",D.success=!1,D.Message=e.message)}):"NEWS"==D.fileData.contentType?e.upload=o.upload({url:n.basePathForEdit+"updateContent",data:{file:e,contentTitle:D.fileData.contentTitle,description:D.fileData.description,contentType:D.fileData.contentType,contentKeywords:JSON.stringify(D.fileData.contentKeywords),startDate:D.fileData.startDate,link:D.fileData.link,contentId:t.id},headers:{common:"X-Requested-With"}}).success(function(e){1==e.status?(D.Message="",D.success=!0,D.Message=e.message,c(function(){D.Message="",i.path("/SBMAdminFileUpload")},2e3)):(D.Message="",D.success=!1,D.Message=e.message)}):"CIRCULARS"==D.fileData.contentType?e.upload=o.upload({url:n.basePathForEdit+"updateContent",data:{file:e,contentTitle:D.fileData.contentTitle,description:D.fileData.description,contentType:D.fileData.contentType,contentKeywords:JSON.stringify(D.fileData.contentKeywords),startDate:D.fileData.startDate,circular_type:D.fileData.circular_type,contentId:t.id},headers:{common:"X-Requested-With"}}).success(function(e){1==e.status?(D.Message="",D.success=!0,D.Message=e.message,c(function(){D.Message="",i.path("/SBMAdminFileUpload")},2e3)):(D.Message="",D.success=!1,D.Message=e.message)}):e.upload=o.upload({url:n.basePathForEdit+"updateContent",data:{file:e,contentTitle:D.fileData.contentTitle,description:D.fileData.description,contentType:D.fileData.contentType,contentKeywords:JSON.stringify(D.fileData.contentKeywords),startDate:D.fileData.startDate,contentId:t.id},headers:{common:"X-Requested-With"}}).success(function(e){1==e.status?(D.Message="",D.success=!0,D.Message=e.message,c(function(){D.Message="",i.path("/SBMAdminFileUpload")},2e3)):(D.Message="",D.success=!1,D.Message=e.message)})},e.getAllKeywords().success(function(e){1==e.status?(D.keyWordsData="",D.keyWordsData=e.data):D.Success=!0}),s.getContentType=function(){"EVENTS"==D.fileData.contentType?(s.showSDate=!0,s.showEDate=!0,s.showVenue=!0,s.showLink=!0,s.showDate=!1,s.showType=!1):"NEWS"==D.fileData.contentType?(s.showSDate=!1,s.showEDate=!1,s.showVenue=!1,s.showLink=!1,s.showDate=!0,s.showType=!1):"CIRCULARS"==D.fileData.contentType?(s.showSDate=!1,s.showEDate=!1,s.showVenue=!1,s.showLink=!1,s.showDate=!0,s.showType=!0):(s.showSDate=!1,s.showEDate=!1,s.showVenue=!1,s.showLink=!1,s.showDate=!0,s.showType=!1)}}]);
app.service("SBMAdminFileUploadEditService",["$http","app.baseUri",function(t,e){this.getAllKeywords=function(){return t.post(e.basePathForUniversal+"getKeywords")},this.getContentDataById=function(n){return t.post(e.basePathForEdit+"getContentById",n)}}]);
app.service("SBMAdminFileUploadService",["$http","app.baseUri",function(e,t){this.getAllKeywords=function(){return e.post(t.basePathForUniversal+"getKeywords")},this.getKPIFileHistory=function(i){return e.post(t.basePath+"getFileHistory",i)}}]);
app.controller("SBMAdminLoginController",["SBMAdminLoginService","$scope","app.baseUri","$location","localStorageService",function(a,s,e,n,i){var o=this;o.success=!1,o.message="",o.adminData={},o.adminData={username:"",password:""},o.sendAdminLoginData=function(){var s={username:o.adminData.user_name,password:o.adminData.password};o.success=!1,a.sendAdminLoginData(s).success(function(a){0==a.status?(i.set("authorizationData",JSON.stringify(s)),o.message="Successfully Logged In..",n.path("/SBMAdminFileUpload")):(o.success=!1,o.message=a.message)})}}]);
app.service("SBMAdminLoginService",["$http","app.baseUri",function(i,n){this.sendAdminLoginData=function(t){return i.post(n.basePath+"login",t)}}]);
app.controller("SBMAdminNewsController",["SBMAdminNewsService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window",function(e,t,a,n,o,s,i,c){var l=this;l.newsInfo={},l.newsData={},l.Message="",a.getMyData=function(){var e=t.get("authorizationData");return e},a.myData2=a.getMyData(),l.basePath=n.basePathForImage,a.sendData=function(){console.log(l.newsData),e.sendNews(l.newsData).success(function(e){1==e.status?(l.Success=!0,l.Message=e.message):(l.Success=!1,l.Message=e.message,i(function(){l.Message="",a.toggle2()},2e3))})},a.showModal=!1,a.toggle=function(){console.log("hi"),a.showModal=!0},a.toggle2=function(){a.showModal=!1,c.location.reload()},e.getNews().success(function(e){1==e.status?(l.newsInfo="",l.newsInfo=e.data):l.Success=!0});var d=new Date;a.getTimestamp=Date.parse(d),a.downLoadExcel=function(e){var t=new Blob([document.getElementById("exportableforAc").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(t,"Tickers_"+a.getTimestamp+".xls")}}]),app.directive("third",function(){return{template:'<div class="modal fade"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Ticker Upload</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,t,a){e.title=a.title,e.$watch(a.visible,function(e){1==e?$(t).modal("show"):$(t).modal("hide")}),$(t).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[a.visible]=!0})}),$(t).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[a.visible]=!1})})}}}),app.directive("eventfinaldatepicker",function(){return{require:"ngModel",link:function(e,t,a,n){$("#StartDateForEvent").datepicker({dateFormat:"yy-mm-dd",onSelect:function(t){e.$apply(function(){n.$setViewValue(t)})},onClose:function(e){$("#EndDateForEvent").datepicker("option","minDate",e)}})}}});
app.controller("SBMAdminNewsDeleteController",["SBMAdminNewsDeleteService","localStorageService","$filter","$scope","app.baseUri","$location","Upload","$timeout","$window","$routeParams",function(e,a,s,t,n,c,i,o,d,r){var u=this;u.newsInfo={},u.newsData={},u.Message="",t.getMyData=function(){var e=a.get("authorizationData");return e},t.myData2=t.getMyData(),t.sendData=function(){var a={id:r.id};e.sendNews(a).success(function(e){1==e.status?(u.Success=!1,u.Message=e.message,o(function(){u.Message="",c.path("/SBMAdminNews")},2e3)):(u.Success=!0,u.Message=e.message)})};var w={id:r.id};e.getNewsById(w).success(function(e){1==e.status?(u.Success=!1,u.newsData=e.data,u.newsData.date&&(t.date=new Date(u.newsData.date),u.newsData.date=s("date")(t.date,"yyyy-MM-dd"))):(u.Success=!0,u.Message=e.message)})}]);
app.service("SBMAdminNewsDeleteService",["$http","app.baseUri",function(e,t){this.getNewsById=function(s){return e.post(t.basePathForNewsEdit+"getNewsById",s)},this.sendNews=function(s){return e.post(t.basePathForNewsEdit+"deleteNews",s)}}]);
app.controller("SBMAdminNewsEditController",["SBMAdminNewsEditService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window","$routeParams","$filter",function(e,a,s,t,n,i,c,d,o,u){var r=this;r.newsInfo={},r.newsData={},r.Message="",s.getMyData=function(){var e=a.get("authorizationData");return e},s.myData2=s.getMyData(),s.sendData=function(){r.newsData.id=o.id,e.sendNews(r.newsData).success(function(e){1==e.status?(r.Success=!1,r.Message=e.message,c(function(){r.Message="",n.path("/SBMAdminNews")},2e3)):(r.Success=!0,r.Message=e.message)})};var w={id:o.id};e.getNewsById(w).success(function(e){1==e.status?(r.Success=!1,r.newsData=e.data,r.newsData.date&&(s.date=new Date(r.newsData.date),r.newsData.date=u("date")(s.date,"yyyy-MM-dd"))):(r.Success=!0,r.Message=e.message)})}]);
app.service("SBMAdminNewsEditService",["$http","app.baseUri",function(e,t){this.getNewsById=function(s){return e.post(t.basePathForNewsEdit+"getNewsById",s)},this.sendNews=function(s){return e.post(t.basePathForNewsEdit+"updateNews",s)}}]);
app.service("SBMAdminNewsService",["$http","app.baseUri",function(e,s){this.getNews=function(){return e.post(s.basePathForNewsEdit+"getAllNews")},this.sendNews=function(t){return e.post(s.basePathForUniversal+"saveNews",t)}}]);
app.controller("SBMAdminODFController",["SBMAdminODFService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window",function(t,a,e,o,s,i,l,n){var d=this;d.odfData={},d.odfGetAll={},d.Message="",e.getMyData=function(){var t=a.get("authorizationData");return t},e.myData2=e.getMyData(),e.showModal=!1,e.toggle=function(){console.log("hi"),e.showModal=!0},e.toggle2=function(){e.showModal=!1,n.location.reload()},d.basePath=o.basePathForImage,e.sendData=function(){var a={noOfCities:d.odfData.city,target:d.odfData.target};console.log(a),t.sendODF(a).success(function(t){1!=t.status?(d.Success=!0,d.Message=t.message):(d.Success=!1,d.Message=t.message,l(function(){d.Message="",e.toggle2()},2e3))})},t.getAllODF().success(function(t){1==t.status?(d.odfGetAll="",d.odfGetAll=t.data):d.Success=!0})}]),app.directive("fifth",function(){return{template:'<div class="modal fade"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">ODF Count Upload</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(t,a,e){t.title=e.title,t.$watch(e.visible,function(t){1==t?$(a).modal("show"):$(a).modal("hide")}),$(a).on("shown.bs.modal",function(){t.$apply(function(){t.$parent[e.visible]=!0})}),$(a).on("hidden.bs.modal",function(){t.$apply(function(){t.$parent[e.visible]=!1})})}}});
app.controller("SBMAdminODFDeleteController",["SBMAdminODFDeleteService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window","$routeParams","$filter",function(e,a,s,t,c,n,i,o,D,u){var r=this;r.ODFInfo={},r.ODFData={},r.Message="",s.getMyData=function(){var e=a.get("authorizationData");return e},s.myData2=s.getMyData(),s.sendData=function(){r.ODFData.id=D.id,e.sendODF(r.ODFData).success(function(e){1==e.status?(r.Success=!1,r.Message=e.message,i(function(){r.Message="",c.path("/SBMAdminODF")},2e3)):(r.Success=!0,r.Message=e.message)})};var d={id:D.id};e.getODFById(d).success(function(e){1==e.status?(r.Success=!1,r.ODFData=e.data):(r.Success=!0,r.Message=e.message)})}]);
app.service("SBMAdminODFDeleteService",["$http","app.baseUri",function(t,e){this.getODFById=function(n){return t.post(e.basePathForEdit+"getODFCountsById",n)},this.sendODF=function(n){return t.post(e.basePathForEdit+"deleteODFCounts",n)}}]);
app.controller("SBMAdminODFEditController",["SBMAdminODFEditService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window","$routeParams","$filter",function(a,e,s,t,i,c,n,o,D,u){var r=this;r.ODFInfo={},r.ODFData={},r.Message="",s.getMyData=function(){var a=e.get("authorizationData");return a},s.myData2=s.getMyData(),s.sendData=function(){r.ODFData.id=D.id,a.sendODF(r.ODFData).success(function(a){1==a.status?(r.Success=!1,r.Message=a.message,n(function(){r.Message="",i.path("/SBMAdminODF")},2e3)):(r.Success=!0,r.Message=a.message)})};var d={id:D.id};a.getODFById(d).success(function(a){1==a.status?(r.Success=!1,r.ODFData=a.data):(r.Success=!0,r.Message=a.message)})}]);
app.service("SBMAdminODFEditService",["$http","app.baseUri",function(t,e){this.getODFById=function(i){return t.post(e.basePathForEdit+"getODFCountsById",i)},this.sendODF=function(i){return t.post(e.basePathForEdit+"updateODFCounts",i)}}]);
app.service("SBMAdminODFService",["$http","app.baseUri",function(t,e){this.sendODF=function(n){return t.post(e.basePathForEdit+"saveODFCounts",n)},this.getAllODF=function(n){return t.post(e.basePathForEdit+"getAllODFCounts",n)}}]);
app.controller("SBMAdminULBController",["SBMAdminULBService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout",function(a,e,t,s,i,c,o){var l=this;l.fileData={},l.stateData={},l.cityData={},l.Message="",l.keyWordsData="",l.fileData.type="Photos",t.getMyData=function(){var a=e.get("authorizationData");return a},t.myData2=t.getMyData(),t.sendFormDataWithPic=function(a){console.log(a),void 0==a?(l.Message="",l.success=!1,l.Message="Format's of type .csv, .xls and .xlsx are only allowed."):(l.Message="",l.success=!1,console.log(l.fileData),a.upload=c.upload({url:s.basePathForUniversal+"ulb/upload",data:{file:a,title:l.fileData.title,description:l.fileData.description,type:l.fileData.type,keywords:JSON.stringify(l.fileData.keywords),city:l.fileData.city,state:l.fileData.state,ward:1},headers:{common:"X-Requested-With"}}).success(function(a){0==a.status?(l.Message="",l.success=!0,l.Message=a.message,o(function(){l.Message=""},2e3)):(l.Message="",l.success=!1,l.Message=a.message)}))},a.getAllKeywords().success(function(a){1==a.status?(l.Success=!0,l.Message=a.message):(l.keyWordsData="",l.keyWordsData=a.data)}),a.getAllStates().success(function(a){1==a.status?(l.Success=!0,l.Message=a.message):(l.stateData="",l.stateData=a.data,l.fileData.state=a.data[0],t.selectActionForCities(l.fileData.state))}),t.selectActionForCities=function(e){var t={statename:e};a.getAllCities(t).success(function(a){1==a.status?(l.Success=!0,l.Message=a.message):(l.cityData="",l.cityData=a.data,l.fileData.city=a.data[0])})}}]);
app.service("SBMAdminULBService",["$http","app.baseUri",function(t,e){this.getAllKeywords=function(){return t.post(e.basePathForUniversal+"getKeywords")},this.getAllStates=function(s){return t.post(e.basePathForUniversal+"ulb/getStates",s)},this.getAllCities=function(s){return t.post(e.basePathForUniversal+"ulb/getCities",s)}}]);
app.controller("SBMADynamicSurveyDefController",["localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window","$routeParams",function(o,t,l,a,i,e,d,n){n.id,t.id=n.id,t.showModal=!1,t.toggle=function(){t.showModal=!0},t.showModal1=!1,t.toggle1=function(){t.showModal1=!0},t.showModal2=!1,t.toggle2=function(){t.showModal2=!0},t.showModal3=!1,t.toggle3=function(){t.showModal3=!0}}]),app.directive("update",function(){return{template:'<div class="modal fade" style="overflow-x: auto;"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Update Question</h4></div><div class="modal-body" ng-transclude style="overflow-x: auto;"></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(o,t,l){o.title=l.title,o.$watch(l.visible,function(o){1==o?$(t).modal("show"):$(t).modal("hide")}),$(t).on("shown.bs.modal",function(){o.$apply(function(){o.$parent[l.visible]=!0})}),$(t).on("hidden.bs.modal",function(){o.$apply(function(){o.$parent[l.visible]=!1})})}}});
app.controller("SBMSurveyEmailController",["SBMSurveyEmailService","localStorageService","$filter","$scope","app.baseUri","$location","Upload","$timeout","$window",function(e,t,a,s,o,i,r,d,n){var u=this;u.surveyData={},u.users={},u.Message="",u.surveyData.defId="";var l=new Date;u.surveyData.e=a("date")(l,"d MMMM y"),u.surveyData.f=a("date")(l,"d MMMM y"),u.surveyData.g=a("date")(l,"d MMMM y"),u.surveyData.h=a("date")(l,"d MMMM y"),u.surveyData.o=a("date")(l,"d MMMM y"),s.getMyData=function(){var e=t.get("authorizationData");return e},s.myData2=s.getMyData(),e.getSurveyUserList().success(function(e){1==e.status?(u.Success=!0,u.users=e.data):(u.Success=!1,u.Message=e.message,u.Message="")}),s.sendDataForDefId=function(){u.e="No of wards that became ODF till "+u.surveyData.e+":",u.f="No of cities became ODF till "+u.surveyData.f+":",u.g="No of additional wards that will be ODF by "+u.surveyData.g+":",u.h="No of additional cities that will be ODF by "+u.surveyData.h+":",u.o="Readiness for Swachh Survekshan Kick off Workshop to be held on "+u.surveyData.o+":";var t={name:"SBM-Survey",status:"Publishable",questions:[{order:"1",questionText:"Overall progress of the Individual Toilets (both offline and online)"},{order:"1.1",questionText:"Application Received:"},{order:"1.2",questionText:"Commenced:"},{order:"1.3",questionText:"Completed:"},{order:"2",questionText:"Progress of the Individual Toilets (Online):"},{order:"2.1",questionText:"Application Verified:"},{order:"2.2",questionText:"Application Approved:"},{order:"2.3",questionText:"Completed:"},{order:"2.4",questionText:"Photos uploaded:"},{order:"3",questionText:"Overall Progress of Community Toilets:"},{order:"3.1",questionText:"Commenced:"},{order:"3.2",questionText:"Completed:"},{order:"4",questionText:"Overall Progress of Public Toilets:"},{order:"4.1",questionText:"Commenced:"},{order:"4.2",questionText:"Completed:"},{order:"5",questionText:u.e},{order:"6",questionText:u.f},{order:"7",questionText:u.g},{order:"8",questionText:u.h},{order:"9",questionText:"Additional funds to be sought for Individual & Community Toilets (in INR):"},{order:"10",questionText:"Additional funds to be sought for Solid Waste Management (in INR):"},{order:"11",questionText:"No of wards that achieved 100% D2D collection status:"},{order:"12",questionText:"Number of ULBs uploading pictures of Thematic Drives:"},{order:"13",questionText:"Funds sought for Capacity Building and IEC from Government of India (in INR):"},{order:"14",questionText:"Waste to Energy Details:"},{order:"14.1",questionText:"Number of plants constructed:"},{order:"14.2",questionText:"Number of plants under construction:"}]};e.sendForDefId(t).success(function(e){1==e.status?(u.Success=!0,u.Message="",u.defId=e.data,u.surveyData.defId=u.defId,s.showModal=!1):(u.Success=!1,u.Message="")})},s.getCCUsers=function(){u.surveyData.cc=u.surveyData.ccRefer},u.basePath=o.basePathForImage,s.sendData=function(){if(u.surveyData.defId){var t={recipients:u.surveyData.email,startDate:u.surveyData.startDate,endDate:u.surveyData.endDate,email:u.surveyData.publisherEmail,cc:u.surveyData.cc,defId:u.surveyData.defId};e.sendSurvey(t).success(function(e){1==e.status?(u.Success=!0,u.Message=e.message,u.surveyData.defId=""):(u.Success=!1,u.Message=e.message,d(function(){u.Message="",n.location.reload()},2e3))})}else u.Message="Please update the Static Survey Questionaire using on click preview ."},s.showModal=!1,s.toggle=function(){s.showModal=!0},s.disabled=!1,s.checkEmail=function(e){e.indexOf(u.surveyData.publisherEmail)!==-1?(s.disabled=!1,u.Message=""):(s.disabled=!0,u.Message="Please give correct email.")}}]),app.directive("ten",function(){return{template:'<div class="modal fade" style="overflow-x: auto;"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Static Survey Questionnaire</h4></div><div class="modal-body" ng-transclude style="overflow-x: auto;background-color: #f4f4f4;"></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,t,a){e.title=a.title,e.$watch(a.visible,function(e){1==e?$(t).modal("show"):$(t).modal("hide")}),$(t).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[a.visible]=!0})}),$(t).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[a.visible]=!1})})}}});
app.service("SBMSurveyEmailService",["$http","app.baseUri",function(e,r){this.sendSurvey=function(t){return e.post(r.basepathForSurvey+"triggerSurveyForm",t)},this.getSurveyUserList=function(){return e.get(r.basepathForSurvey+"getUsersList")},this.sendForDefId=function(t){return e.post(r.basepathForSurvey+"saveSurveyDef",t)}}]);
app.controller("SBMSurveyReportController",["SBMSurveyReportService","localStorageService","$scope","app.baseUri","$location","Upload","$timeout","$window","$filter",function(e,a,t,s,n,o,i,r,c){var l=this;l.surveyData={},l.reportData={},t.IsClickEnable2=!0,t.IsClickEnable=!0,l.Message="",l.Message1="",l.Message2="",t.hideNav=!1,t.currentPage=1,t.currentPageSize=20;var u=new Date;u.setDate(u.getDate());var d=new Date;d.setDate(u.getDate()-30),l.surveyData.startDate=c("date")(d,"yyyy-MM-dd"),l.surveyData.endDate=c("date")(u,"yyyy-MM-dd"),t.getMyData=function(){var e=a.get("authorizationData");return e},t.myData2=t.getMyData(),l.surveyData.type="Static",l.basePath=s.basePathForImage,l.changeDate=function(){if(t.hideNav=!1,t.pageSize="",t.totalPages="",l.reportData="",l.Message="",t.totalCount="",t.lastIndexOf="","Static"==l.surveyData.type){var a={startDate:l.surveyData.startDate,endDate:l.surveyData.endDate,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurvey(a).success(function(e){1==e.status?(l.Success=!0,t.totalPages=e.totalPages,t.totalCount=e.totalRecords,t.pageSize=t.currentPageSize,t.lastIndexOf=e.records,l.reportData=e.data):(l.Success=!1,l.Message=e.message,t.pageSize="",t.totalPages="",l.reportData="",t.totalCount="",t.lastIndexOf="",t.hideNav=!0)})}else{var a={startDate:l.surveyData.startDate,endDate:l.surveyData.endDate,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurveyForDynamic(a).success(function(e){1==e.status?(l.Success=!0,t.totalPages=e.totalPages,t.totalCount=e.totalRecords,t.pageSize=t.currentPageSize,t.lastIndexOf=e.records,l.reportData=e.data):(l.Success=!1,l.Message=e.message,t.pageSize="",t.totalPages="",l.reportData="",t.totalCount="",t.lastIndexOf="",t.hideNav=!0)})}},t.sendData=function(){t.hideNav=!1;var a={from:l.surveyData.startDate,to:l.surveyData.endDate,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurvey(a).success(function(e){1==e.status?(l.Success=!0,t.totalPages=e.totalPages,t.totalCount=e.totalRecords,t.pageSize=t.currentPageSize,t.lastIndexOf=e.records,l.reportData=e.data):(t.hideNav=!0,l.Success=!1,l.Message=e.message,t.pageSize="",t.totalPages="",l.reportData="",t.totalCount="",t.lastIndexOf="")})},t.selectPage=function(a,s,n,o){if(t.hideNav=!1,a<=1?(t.currentPage=1,t.IsClickEnable2=!0,t.IsClickEnable=!1):s<=a?(t.IsClickEnable=!0,t.IsClickEnable2=!1,t.currentPage=s):a>s?t.disable=!0:(t.IsClickEnable=!0,t.IsClickEnable2=!0,""!=a?t.currentPage=a:t.currentPage=1),l.Message="",l.reportData="",t.pageSize="",t.totalCount="",t.totalPages="","Static"==l.surveyData.type){var i={startDate:l.surveyData.startDate,endDate:l.surveyData.endDate,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurvey(i).success(function(e){1==e.status?(l.Success=!0,t.totalPages=e.totalPages,t.totalCount=e.totalRecords,t.pageSize=t.currentPageSize,t.lastIndexOf=e.records,l.reportData=e.data):(t.hideNav=!0,l.Success=!1,l.Message=e.message,t.pageSize="",t.totalPages="",l.reportData="",t.totalCount="",t.lastIndexOf="")})}else{var i={startDate:l.surveyData.startDate,endDate:l.surveyData.endDate,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurveyForDynamic(i).success(function(e){1==e.status?(l.Success=!0,t.totalPages=e.totalPages,t.totalCount=e.totalRecords,t.pageSize=t.currentPageSize,t.lastIndexOf=e.records,l.reportData=e.data):(t.hideNav=!0,l.Success=!1,l.Message=e.message,t.pageSize="",t.totalPages="",l.reportData="",t.totalCount="",t.lastIndexOf="")})}},t.itemsDataSurvey="",l.items={},l.changeDate(),t.getData=function(e,a,s,n){l.items=e,l.name=a,l.email=s,l.state=n,console.log(e),0==e.length?t.itemsDataSurvey="Form has not been submitted . ":t.itemsDataSurvey="",t.toggle()},t.selectedRow=null,t.getDataForSecondView=function(a,s,n,o,i){if(t.selectedRow=i,l.oEmail=s,l.oName=n,l.oState=o,t.currentPage=1,t.currentPageSize=20,t.toggle(),l.Message1="",l.secondViewData="",t.pageSize1="",t.totalCount1="",t.totalPages1="",t.cType2=a,"Static"==l.surveyData.type){var r={publishDate:a,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurveySecondView(r).success(function(e){1==e.status?(l.Success=!0,t.totalPages1=e.totalPages,t.totalCount1=e.totalRecords,t.pageSize1=t.currentPageSize,t.lastIndexOf1=e.records,l.secondViewData=e.data,angular.forEach(l.secondViewData,function(e,a){l.questions=e.defId.questions,l.answers=e.answersId})):(t.hideNav=!0,l.Success=!1,l.Message1=e.message,t.pageSize1="",t.totalPages1="",l.secondViewData="",t.totalCount1="",t.lastIndexOf1="")})}else{var c={publishDate:a,page:t.currentPage,pageSize:t.currentPageSize};e.sendDynamicSurveySecondView(c).success(function(e){1==e.status?(l.Success=!0,t.totalPages1=e.totalPages,t.totalCount1=e.totalRecords,t.pageSize1=t.currentPageSize,t.lastIndexOf1=e.records,l.secondViewData=e.data,angular.forEach(l.secondViewData,function(e,a){l.questions=e.sbm_sur_def_id.questions,l.answers=e.answersId})):(t.hideNav=!0,l.Success=!1,l.Message1=e.message,t.pageSize1="",t.totalPages1="",l.secondViewData="",t.totalCount1="",t.lastIndexOf1="")})}},t.selectPageForSecond=function(a,s,n,o){if(t.hideNav=!1,a<=1?(t.currentPage=1,t.IsClickEnable2=!0,t.IsClickEnable=!1):s<=a?(t.IsClickEnable=!0,t.IsClickEnable2=!1,t.currentPage=s):a>s?t.disable=!0:(t.IsClickEnable=!0,t.IsClickEnable2=!0,""!=a?t.currentPage=a:t.currentPage=1),l.Message1="",l.secondViewData="",t.pageSize1="",t.totalCount1="",t.totalPages1="","Static"==l.surveyData.type){var i={publishDate:o,page:t.currentPage,pageSize:t.currentPageSize};e.sendSurveySecondView(i).success(function(e){1==e.status?(l.Success=!0,t.totalPages1=e.totalPages,t.totalCount1=e.totalRecords,t.pageSize1=t.currentPageSize,t.lastIndexOf1=e.records,l.secondViewData=e.data,angular.forEach(l.secondViewData,function(e,a){l.questions=e.defId.questions,l.answers=e.answersId})):(t.hideNav=!0,l.Success=!1,l.Message1=e.message,t.pageSize1="",t.totalPages1="",l.secondViewData="",t.totalCount1="",t.lastIndexOf1="")})}else{var r={publishDate:o,page:t.currentPage,pageSize:t.currentPageSize};e.sendDynamicSurveySecondView(r).success(function(e){1==e.status?(l.Success=!0,t.totalPages1=e.totalPages,t.totalCount1=e.totalRecords,t.pageSize1=t.currentPageSize,t.lastIndexOf1=e.records,l.secondViewData=e.data,angular.forEach(l.secondViewData,function(e,a){l.questions=e.defId.questions,l.answers=e.answersId})):(t.hideNav=!0,l.Success=!1,l.Message1=e.message,t.pageSize1="",t.totalPages1="",l.secondViewData="",t.totalCount1="",t.lastIndexOf1="")})}},t.getDataForThirdView=function(a,s,n,o,i,r){if(t.selectedRow=i,l.items1={},t.toggles(),l.Message2="",l.items1="",l.email=s,l.state=n,l.name=o,l.ulbName=r,"Static"==l.surveyData.type){var c={publishDate:a,email:s};e.sendSurveyThirdView(c).success(function(e){1==e.status?(l.Success=!0,l.items1=e.data.answers):(l.Success=!1,l.Message2=e.message,l.items1="",t.ques="",t.ans="")})}else{var c={publishDate:a,email:s};e.sendDynamicSurveyThirdView(c).success(function(e){1==e.status?(l.Success=!0,l.items1=e.data.answers):(l.Success=!1,l.Message2=e.message,l.items1="",t.ques="",t.ans="")})}},t.showModal=!1,t.toggle=function(){t.showModal=!0},t.showModals=!1,t.toggles=function(){t.showModals=!0};var g=new Date;t.getTimestamp=Date.parse(g),t.downLoadExcel=function(){var e=new Blob([document.getElementById("exportableforAc").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(e,"StaticSurveyReportFirst_"+t.getTimestamp+".xls")},t.downLoadExcel2=function(e){var a=new Blob([document.getElementById("secondTable").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(a,"StaticSurveyReportSecond_"+t.getTimestamp+".xls")},t.downLoadExcel3=function(e){var a=new Blob([document.getElementById("exportable").innerHTML],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});saveAs(a,"StaticSurveyReportThird_"+t.getTimestamp+".xls")}}]),app.directive("six",function(){return{template:'<div class="modal fade" style="overflow-x: auto;"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Survey Information </h4></div><div class="modal-body" ng-transclude style="overflow-x: auto;"></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,a,t){e.title=t.title,e.$watch(t.visible,function(e){1==e?$(a).modal("show"):$(a).modal("hide")}),$(a).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[t.visible]=!0})}),$(a).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[t.visible]=!1})})}}}),app.directive("seven",function(){return{template:'<div class="modal fade" style="overflow-x: auto;"><div class="modal-dialog" style="width: 94%;"><div class="modal-content"><div class="modal-header"><button type="button" ng-click="hideModal()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Survey Information</h4></div><div class="modal-body" ng-transclude style="overflow-x: auto;"></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(e,a,t){e.title=t.title,e.$watch(t.visible,function(e){1==e?$(a).modal("show"):$(a).modal("hide")}),$(a).on("shown.bs.modal",function(){e.$apply(function(){e.$parent[t.visible]=!0})}),$(a).on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[t.visible]=!1})})}}});
app.service("SBMSurveyReportService",["$http","app.baseUri",function(e,r){this.sendSurvey=function(t){return e.post(r.basepathForSurvey+"getReportViewFirst",t)},this.sendSurveyForDynamic=function(t){return e.post(r.basepathForDynamicSurvey+"getPublishFormReport",t)},this.sendSurveySecondView=function(t){return e.post(r.basepathForSurvey+"getReportViewSecond",t)},this.sendDynamicSurveySecondView=function(t){return e.post(r.basepathForDynamicSurvey+"getReportViewSecond",t)},this.sendSurveyThirdView=function(t){return e.post(r.basepathForSurvey+"getReportViewThird",t)},this.sendDynamicSurveyThirdView=function(t){return e.post(r.basepathForDynamicSurvey+"getReportViewThird",t)}}]);